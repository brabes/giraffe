Steps to create a source release archive.

The version is specific by VERSION.
REPODIR should be set to the root directory of the Git repo.

  VERSION=A.B.C
  REPODIR=~/SML/Giraffe/devel


Set up the release directory.

 A. To create a formal release from a Git tag, extract the source code
    with Git.  VERSION is used as the Git tag name.

      RELEASEDIR=/tmp/release/
      mkdir -p ${RELEASEDIR}
      cd ${REPODIR}
      git archive ${VERSION} giraffe | tar -x -C ${RELEASEDIR}

    Add external dependencies to the release that provide an XML
    parser and GIR/TYPELIB files indexed by package and GI version.
    (For details see ${RELEASEDIR}/giraffe/codegen/README.)

      tar -xJf ~/SML/Giraffe/archive/xml.tar.xz -C ${RELEASEDIR}/giraffe/codegen/src/
      tar -xJf ~/SML/Giraffe/archive/girepository.tar.xz -C ${RELEASEDIR}/giraffe/codegen/

 B. To create an informal release from the current working directory, 
    operate in the working directory.

      RELEASEDIR=${REPODIR}


Create library code by patching generated code and copy to src/sml:

  cd ${RELEASEDIR}/giraffe/codegen
  ./codegen gir
  ./codegen update-gir
  ./codegen fixed
  ./codegen update-fixed
  ./codegen update-source


Create source release archive:

  cd ${RELEASEDIR}/giraffe
  export VERSION
  make -f release.mk archive
